<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; gjson-py 0.1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CLI" href="cli.html" />
    <link rel="prev" title="gjson-py 0.1.0 documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> gjson-py
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-use-the-library">How to use the library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gjson-get"><code class="docutils literal notranslate"><span class="pre">gjson.get()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#gjson-class"><code class="docutils literal notranslate"><span class="pre">GJSON</span></code> class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-use-the-cli">How to use the CLI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#json-lines">JSON Lines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apply-the-same-query-to-each-line">Apply the same query to each line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#encapsulate-all-lines-in-an-array-then-apply-the-query">Encapsulate all lines in an array, then apply the query</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filter-lines-based-on-their-values">Filter lines based on their values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filter-lines-and-apply-query-to-the-result">Filter lines and apply query to the result</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#query-syntax">Query syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supported-gjson-features">Supported GJSON features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-features">Additional features</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">gjson-py</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Introduction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/introduction.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <a class="reference external image-reference" href="https://github.com/volans-/gjson-py/actions/workflows/run-tox.yaml"><img alt="CI results" src="https://github.com/volans-/gjson-py/actions/workflows/run-tox.yaml/badge.svg" /></a>
<section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h1>
<p>gjson-py is a Python package that provides a simple way to filter and extract data from JSON-like objects or JSON
files, using the <a class="reference external" href="https://github.com/tidwall/gjson">GJSON</a> syntax.</p>
<p>It is, compatibly with the language differences and with some limitation, the Python equivalent of the Go
<a class="reference external" href="https://github.com/tidwall/gjson">GJSON</a> package.
The main difference from GJSON is that gjson-py doesn’t work directly with JSON strings but instead with
JSON-like Python objects, that can either be the resulting object when calling <code class="docutils literal notranslate"><span class="pre">json.load()</span></code> or <code class="docutils literal notranslate"><span class="pre">json.loads()</span></code>,
or any Python object that is JSON-serializable.</p>
<p>A detailed list of the GJSON features supported by gjson-py is provided below.</p>
<p>See also the full <a class="reference external" href="https://volans-.github.io/gjson-py/index.html">gjson-py documentation</a>.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<p>gjson-py is available on the <a class="reference external" href="https://pypi.org/project/gjson/">Python Package Index</a> (PyPI) and can be easily installed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">gjson</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">debian</span></code> branch is also present with all the configuration to build the package for Debian-based systems.
A <code class="docutils literal notranslate"><span class="pre">.deb</span></code> package for the current stable and unstable Debian versions is also available for download on the
<a class="reference external" href="https://github.com/volans-/gjson-py/releases">releases page on GitHub</a>.</p>
</section>
<section id="how-to-use-the-library">
<h2>How to use the library<a class="headerlink" href="#how-to-use-the-library" title="Permalink to this heading">¶</a></h2>
<p>gjson-py provides different ways to perform queries on JSON-like objects.</p>
<section id="gjson-get">
<h3><code class="docutils literal notranslate"><span class="pre">gjson.get()</span></code><a class="headerlink" href="#gjson-get" title="Permalink to this heading">¶</a></h3>
<p>A quick accessor to GJSON functionalities exposed for simplicity of use. Particularly useful to perform a single
query on a given object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">gjson</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="s1">&#39;Tom&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">:</span> <span class="s1">&#39;Anderson&#39;</span><span class="p">},</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">37</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gjson</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;name.first&#39;</span><span class="p">)</span>
<span class="go">&#39;Tom&#39;</span>
</pre></div>
</div>
<p>It’s also possible to make it return a JSON-encoded string and decide on failure if it should raise an exception
or return <cite>None</cite>. See the full API documentation for more details.</p>
</section>
<section id="gjson-class">
<h3><code class="docutils literal notranslate"><span class="pre">GJSON</span></code> class<a class="headerlink" href="#gjson-class" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">GJSON</span></code> class provides full access to the gjson-py API allowing to perform multiple queries on the same object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">gjson</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="s1">&#39;Tom&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">:</span> <span class="s1">&#39;Anderson&#39;</span><span class="p">},</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">37</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">gjson</span><span class="o">.</span><span class="n">GJSON</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name.first&#39;</span><span class="p">)</span>
<span class="go">&#39;Tom&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
<span class="go">&#39;{&quot;name&quot;: {&quot;first&quot;: &quot;Tom&quot;, &quot;last&quot;: &quot;Anderson&quot;}, &quot;age&quot;: 37}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">getj</span><span class="p">(</span><span class="s1">&#39;name.first&#39;</span><span class="p">)</span>
<span class="go">&#39;&quot;Tom&quot;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">get_gjson</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
<span class="go">&#39;Tom&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span>
<span class="go">&lt;gjson.GJSON object at 0x102735b20&gt;</span>
</pre></div>
</div>
<p>See the full API documentation for more details.</p>
</section>
</section>
<section id="how-to-use-the-cli">
<h2>How to use the CLI<a class="headerlink" href="#how-to-use-the-cli" title="Permalink to this heading">¶</a></h2>
<p>gjson-py provides also a command line interface (CLI) for ease of use:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span> <span class="s1">&#39;{&quot;name&quot;: {&quot;first&quot;: &quot;Tom&quot;, &quot;last&quot;: &quot;Anderson&quot;}, &quot;age&quot;: 37}&#39;</span> &gt; test.json
<span class="gp">$ </span>cat test.json <span class="p">|</span> gjson <span class="s1">&#39;name.first&#39;</span>  <span class="c1"># Read from stdin</span>
<span class="go">&quot;Tom&quot;</span>
<span class="gp">$ </span>gjson test.json <span class="s1">&#39;age&#39;</span>  <span class="c1"># Read from a file</span>
<span class="go">37</span>
<span class="gp">$ </span>cat test.json <span class="p">|</span> gjson - <span class="s1">&#39;name.first&#39;</span>  <span class="c1"># Explicitely read from stdin</span>
<span class="go">&quot;Tom&quot;</span>
</pre></div>
</div>
<section id="json-lines">
<h3>JSON Lines<a class="headerlink" href="#json-lines" title="Permalink to this heading">¶</a></h3>
<p>JSON Lines support in the CLI allows for different use cases. All the examples in this section operates on a
<code class="docutils literal notranslate"><span class="pre">test.json</span></code> file generated with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span> -e <span class="s1">&#39;{&quot;name&quot;: &quot;Gilbert&quot;, &quot;age&quot;: 61}\n{&quot;name&quot;: &quot;Alexa&quot;, &quot;age&quot;: 34}\n{&quot;name&quot;: &quot;May&quot;, &quot;age&quot;: 57}&#39;</span> &gt; test.json
</pre></div>
</div>
<section id="apply-the-same-query-to-each-line">
<h4>Apply the same query to each line<a class="headerlink" href="#apply-the-same-query-to-each-line" title="Permalink to this heading">¶</a></h4>
<p>Using the <code class="docutils literal notranslate"><span class="pre">-l/--lines</span></code> CLI argument, for each input line gjson-py applies the query and filters the data according
to it. Lines are read one by one so there is no memory overhead for the processing. It can be used while tailing log
files in JSON format for example.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>gjson --lines test.json <span class="s1">&#39;age&#39;</span>
<span class="go">61</span>
<span class="go">34</span>
<span class="go">57</span>
<span class="gp">$ </span>tail -f log.json <span class="p">|</span> gjson --lines <span class="s1">&#39;bytes_sent&#39;</span>  <span class="c1"># Dummy example</span>
</pre></div>
</div>
</section>
<section id="encapsulate-all-lines-in-an-array-then-apply-the-query">
<h4>Encapsulate all lines in an array, then apply the query<a class="headerlink" href="#encapsulate-all-lines-in-an-array-then-apply-the-query" title="Permalink to this heading">¶</a></h4>
<p>Using the special query prefix syntax <code class="docutils literal notranslate"><span class="pre">..</span></code>, as described in GJSON’s documentation for <a class="reference external" href="https://github.com/tidwall/gjson#json-lines">JSON Lines</a>, gjson-py will
read all lines from the input and encapsulate them into an array. This approach has of course the memory overhead of
loading the whole input to perform the query.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>gjson test.json <span class="s1">&#39;..#.name&#39;</span>
<span class="go">[&quot;Gilbert&quot;, &quot;Alexa&quot;, &quot;May&quot;]</span>
</pre></div>
</div>
</section>
<section id="filter-lines-based-on-their-values">
<h4>Filter lines based on their values<a class="headerlink" href="#filter-lines-based-on-their-values" title="Permalink to this heading">¶</a></h4>
<p>Combining the <code class="docutils literal notranslate"><span class="pre">-l/--lines</span></code> CLI argument with the special query prefix <code class="docutils literal notranslate"><span class="pre">..</span></code> described above, it’s possible to filter
input lines based on their values. In this case gjson-py encapsulates each line in an array so that is possible to use
the <a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#queries">Queries</a> GJSON syntax to filter them. As the ecapsulation is performed on each line, there is no memory overhead.
Because technically when a line is filtered is because there was no match on the whole line query, the final exit code,
if any line is filtered, will be <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>gjson --lines test.json <span class="s1">&#39;..#(age&gt;40).name&#39;</span>
<span class="go">&quot;Gilbert&quot;</span>
<span class="go">&quot;May&quot;</span>
</pre></div>
</div>
</section>
<section id="filter-lines-and-apply-query-to-the-result">
<h4>Filter lines and apply query to the result<a class="headerlink" href="#filter-lines-and-apply-query-to-the-result" title="Permalink to this heading">¶</a></h4>
<p>Combining the methods above is possible for example to filter/extract data from the lines first and then apply a query
to the aggregated result. The memory overhead in this case is based on the amount of data resulting from the first
filtering/extraction.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>gjson --lines test.json <span class="s1">&#39;age&#39;</span> <span class="p">|</span> gjson <span class="s1">&#39;..@sort&#39;</span>
<span class="go">[34, 57, 61]</span>
<span class="gp">$ </span>gjson --lines test.json <span class="s1">&#39;..#(age&gt;40).age&#39;</span> <span class="p">|</span> gjson <span class="s1">&#39;..@sort&#39;</span>
<span class="go">[57, 61]</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="query-syntax">
<h2>Query syntax<a class="headerlink" href="#query-syntax" title="Permalink to this heading">¶</a></h2>
<p>For the generic query syntax refer to the original <a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md">GJSON Path Syntax</a> documentation.</p>
<section id="supported-gjson-features">
<h3>Supported GJSON features<a class="headerlink" href="#supported-gjson-features" title="Permalink to this heading">¶</a></h3>
<p>This is the list of GJSON features and how they are supported by gjson-py:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 24%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>GJSON feature</p></th>
<th class="head"><p>Supported by gjson-py</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#path-structure">Path Structure</a></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#basic">Basic</a></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#wildcards">Wildcards</a></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#escape-character">Escape Character</a></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#arrays">Arrays</a></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#queries">Queries</a></p></td>
<td><p>PARTIALLY</p></td>
<td><p>Subqueries are not supported <a class="footnote-reference brackets" href="#id4" id="id1">1</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#dot-vs-pipe">Dot vs Pipe</a></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#modifiers">Modifiers</a></p></td>
<td><p>PARTIALLY</p></td>
<td><p>See the table below</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#modifiers">Modifier arguments</a></p></td>
<td><p>YES</p></td>
<td><p>Only a JSON object is accepted as argument</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#custom-modifiers">Custom modifiers</a></p></td>
<td><p>YES</p></td>
<td><p>Only a JSON object is accepted as argument</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#multipaths">Multipaths</a></p></td>
<td><p>NO</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/tidwall/gjson/blob/master/SYNTAX.md#literals">Literals</a></p></td>
<td><p>NO</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/tidwall/gjson#json-lines">JSON Lines</a></p></td>
<td><p>YES</p></td>
<td><p>CLI support <a class="footnote-reference brackets" href="#id5" id="id2">2</a> <a class="footnote-reference brackets" href="#id6" id="id3">3</a></p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The queries matching is based on Python’s operator and as such the results might be different than the ones from
the Go GJSON package. In particular for the <code class="docutils literal notranslate"><span class="pre">~</span></code> operator that checks the truthy-ness of objects.</p>
</dd>
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Both for applying the same query to each line using the <code class="docutils literal notranslate"><span class="pre">-l/--lines</span></code> argument and to automatically encapsulate
the input lines in a list and apply the query to the list using the <code class="docutils literal notranslate"><span class="pre">..</span></code> special query prefix described in
<a class="reference external" href="https://github.com/tidwall/gjson#json-lines">JSON Lines</a>.</p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>Library support is not currently present because gjson-py accepts only Python objects, making it impossible to
pass JSON Lines directly. The client is free to choose if calling gjson-py for each line or to encapsulate them in
a list before calling gjson-py.</p>
</dd>
</dl>
<p>This is the list of modifiers present in GJSON and how they are supported by gjson-py:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 28%" />
<col style="width: 52%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>GJSON Modifier</p></td>
<td><p>Supported by gjson-py</p></td>
<td><p>Notes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;reverse</span></code></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;ugly</span></code></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;pretty</span></code></p></td>
<td><p>PARTIALLY</p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">width</span></code> argument is not supported</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;this</span></code></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;valid</span></code></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;flatten</span></code></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;join</span></code></p></td>
<td><p>NO</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;keys</span></code></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;values</span></code></p></td>
<td><p>YES</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;tostr</span></code></p></td>
<td><p>NO</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;fromstr</span></code></p></td>
<td><p>NO</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&#64;group</span></code></p></td>
<td><p>NO</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="additional-features">
<h3>Additional features<a class="headerlink" href="#additional-features" title="Permalink to this heading">¶</a></h3>
<p>This is the list of additional modifiers specific to gjson-py:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;ascii</span></code>: escapes all non-ASCII characters when printing/returning the string representation of the object,
ensuring that the output is made only of ASCII characters. It’s implemented using the <code class="docutils literal notranslate"><span class="pre">ensure_ascii</span></code> arguments in
the Python’s <code class="docutils literal notranslate"><span class="pre">json</span></code> module. This modifier doesn’t accept any arguments.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;sort</span></code>: sorts a mapping object by its keys or a sequence object by its values. This modifier doesn’t accept any
arguments.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">top_n</span></code>: given a sequence object groups the items in the sequence counting how many occurrences of each value are
present. It returns a mapping object where the keys are the distinct values of the list and the values are the number
of times the key was present in the list, ordered from the most common to the least common item. The items in the
original sequence object must be Python hashable. This modifier accepts an optional argument <code class="docutils literal notranslate"><span class="pre">n</span></code> to return just the
N items with the higher counts. When the <code class="docutils literal notranslate"><span class="pre">n</span></code> argument is not provided all items are returned. Example usage:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span> <span class="s1">&#39;[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;]&#39;</span> <span class="p">|</span> gjson <span class="s1">&#39;@top_n&#39;</span>
<span class="go">{&quot;c&quot;: 3, &quot;b&quot;: 2, &quot;a&quot;: 1}</span>
<span class="gp">$ </span><span class="nb">echo</span> <span class="s1">&#39;[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;]&#39;</span> <span class="p">|</span> gjson <span class="s1">&#39;@top_n:{&quot;n&quot;:2}&#39;</span>
<span class="go">{&quot;c&quot;: 3, &quot;b&quot;: 2}</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sum_n</span></code>: given a sequence of objects, groups the items in the sequence using a grouping key and sum the values of a
sum key provided. It returns a mapping object where the keys are the distinct values of the grouping key and the
values are the sums of all the values of the sum key for each distinct grouped key, ordered from the highest sum to
the lowest. The values of the grouping key must be Python hashable. The values of the sum key must be integers or
floats. This modifier required two mandatory arguments, <code class="docutils literal notranslate"><span class="pre">group</span></code> and <code class="docutils literal notranslate"><span class="pre">sum</span></code> that have as values the respective keys
in the objects of the sequence. An optional <code class="docutils literal notranslate"><span class="pre">n</span></code> argument is also accepted to return just the top N items with the
highest sum. Example usage:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span> <span class="s1">&#39;[{&quot;key&quot;: &quot;a&quot;, &quot;time&quot;: 1}, {&quot;key&quot;: &quot;b&quot;, &quot;time&quot;: 2}, {&quot;key&quot;: &quot;c&quot;, &quot;time&quot;: 3}, {&quot;key&quot;: &quot;a&quot;, &quot;time&quot;: 4}]&#39;</span> &gt; test.json
<span class="gp">$ </span>gjson test.json <span class="s1">&#39;@sum_n:{&quot;group&quot;: &quot;key&quot;, &quot;sum&quot;: &quot;time&quot;}&#39;</span>
<span class="go">{&quot;a&quot;: 5, &quot;c&quot;: 3, &quot;b&quot;: 2}</span>
<span class="gp">$ </span>gjson test.json <span class="s1">&#39;@sum_n:{&quot;group&quot;: &quot;key&quot;, &quot;sum&quot;: &quot;time&quot;, &quot;n&quot;: 2}&#39;</span>
<span class="go">{&quot;a&quot;: 5, &quot;c&quot;: 3}</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="gjson-py 0.1.0 documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cli.html" class="btn btn-neutral float-right" title="CLI" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Riccardo Coccioli.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>